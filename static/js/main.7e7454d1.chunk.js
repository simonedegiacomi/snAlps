(this.webpackJsonpsnalps=this.webpackJsonpsnalps||[]).push([[0],{82:function(t,e,a){},83:function(t,e,a){},97:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),o=a(44),i=a.n(o),s=(a(82),a(9)),c=a(71),l=a(124),m=a(126),h=a(129),d=a(130),f=a(131),u=(a(83),a(13)),p=a.n(u),j=a(20),b=a(112),g=a(125),M=a(113),x=(a(85),a(46)),v=a(47),O=function(){function t(){Object(x.a)(this,t)}return Object(v.a)(t,[{key:"getAllEvents",value:function(){var t=Object(j.a)(p.a.mark((function t(){var e,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],a=1;a<=5;a++)e.push(this.getAllEventsFromPage(a));return t.next=4,Promise.all(e);case 4:return t.abrupt("return",t.sent.flatMap((function(t){return t})));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getAllEventsFromPage",value:function(){var e=Object(j.a)(p.a.mark((function e(){var a,r,n,o,i,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>0&&void 0!==s[0]?s[0]:1,e.next=3,fetch("https://destinationdata.alpinebits.opendatahub.bz.it/2021-04/events?page[number]=".concat(a));case 3:return r=e.sent,e.next=6,r.json();case 6:return n=e.sent,o=n.data,e.next=10,Promise.all(o.map(t.alpineBitEventToPoi));case 10:return i=e.sent,e.abrupt("return",i.filter((function(t){return!!t.coordinates})));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}],[{key:"alpineBitEventToPoi",value:function(){var e=Object(j.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a.id,e.t1=a.name,e.next=4,t.findCoordinates(a);case 4:return e.t2=e.sent,e.abrupt("return",{id:e.t0,title:e.t1,coordinates:e.t2});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"findCoordinates",value:function(){var t=Object(j.a)(p.a.mark((function t(e){var a,r,n,o,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((a=e.relationships).venues&&a.venues.links&&a.venues.links.related){t.next=3;break}return t.abrupt("return",null);case 3:return r=a.venues.links.related,t.next=6,fetch(r);case 6:return n=t.sent,t.next=9,n.json();case 9:if(!((o=t.sent).data.length<0||!o.data[0].attributes||!o.data[0].attributes.geometries||o.data[0].attributes.geometries.length<0)){t.next=12;break}return t.abrupt("return",null);case 12:return i=o.data[0].attributes.geometries[0].coordinates,t.abrupt("return",[i[1],i[0]]);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),y=new O,k=function(){function t(){Object(x.a)(this,t)}return Object(v.a)(t,[{key:"getAllPois",value:function(){var t=Object(j.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.getAllEvents();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),t}(),w=new k;var D=a.p+"static/media/dot-0.4b974eba.svg",E=a.p+"static/media/dot-1.e7e732f1.svg",P=a.p+"static/media/dot-2.998e9410.svg",C=a.p+"static/media/dot-3.1c4d0b81.svg",N=a.p+"static/media/dot-4.c991be15.svg",z=a.p+"static/media/star-0.2fc7be69.svg",S=a.p+"static/media/star-1.6202c245.svg",B=a.p+"static/media/star-2.c1eea9a0.svg",A=a(25),F=a.n(A),I=[D,E,P,C,N,z,S,B].map((function(t){return F.a.icon({iconUrl:t,iconSize:[64,64],iconAnchor:[32,64]})}));var q=a(1);function T(){var t=function(){var t=Object(r.useState)([]),e=Object(s.a)(t,2),a=e[0],n=e[1],o=Object(r.useState)(!1),i=Object(s.a)(o,2),c=i[0],l=i[1],m=function(){var t=Object(j.a)(p.a.mark((function t(){var e;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.prev=1,t.next=4,w.getAllPois();case 4:e=t.sent,n(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:return t.prev=11,l(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(){return t.apply(this,arguments)}}();return{pois:a,load:m,isLoading:c}}(),e=t.pois,a=t.isLoading,n=t.load;return Object(r.useEffect)((function(){Object(j.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n();case 2:case"end":return t.stop()}}),t)})))()}),[]),Object(q.jsx)("div",{style:{flex:1},children:Object(q.jsxs)(b.a,{center:[46.4983,11.3548],zoom:13,scrollWheelZoom:!0,style:{height:"100%"},children:[Object(q.jsx)(g.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),!a&&e.map((function(t){return Object(q.jsx)(M.a,{position:t.coordinates,icon:I[Math.floor(Math.random()*I.length)]},t.id)}))]})})}var L=a(69),W=a.n(L),H=a(70),R=a.n(H),_=a.p+"static/media/map.46f5bb69.svg",J=a.p+"static/media/conquers.7438e2e2.svg",K=a.p+"static/media/rank.57f8e2f2.svg",U=a(123),Y=a(127),Z=a(128),G=a(121),Q=a.p+"static/media/water.9a105fa3.png",V=a.p+"static/media/fire.67b2db1d.png",X=a.p+"static/media/snow-cat.9ae4a1bc.png",$=a.p+"static/media/hiker.f98595a6.png",tt=a.p+"static/media/history.892d3619.png",et=a.p+"static/media/bellissimo-panorama.5f2f00d3.jpg",at=a.p+"static/media/biblioteca.102d36fc.jpg",rt=a.p+"static/media/bolzano-fiori-primavera.fc09b3d3.jpg",nt=a.p+"static/media/bolzano_inverno.d8c72b76.jpg",ot=a.p+"static/media/BozenKathedrale.e7925ce4.jpg",it=a.p+"static/media/castel-mareccio.8172f7ca.jpg",st=a.p+"static/media/chiesa-del-sacro.d572d905.jpg",ct=a.p+"static/media/Dom_Maria_Himmelfahrt.134cb0d2.jpg",lt=a.p+"static/media/DSC_7782.40a2565c.jpg",mt=a.p+"static/media/duomo-di-bolzano.da03473b.jpg",ht=a.p+"static/media/il-castello-maretsch.799d6f7d.jpg",dt=a.p+"static/media/museo-archeologico.3ac38d89.jpg",ft=a.p+"static/media/tre-cime.0eec60d1.jpg",ut=a.p+"static/media/waltherplatz.662731ef.jpg",pt=[{src:et,likes:1+Math.floor(200*Math.random()),comments:1+Math.floor(50*Math.random()),points:1+Math.floor(8*Math.random()),remainingDays:1+Math.floor(10*Math.random()),title:"Bellissimo panorama",categoryName:"Panorami"},{src:at,likes:1+Math.floor(200*Math.random()),comments:1+Math.floor(50*Math.random()),points:1+Math.floor(8*Math.random()),remainingDays:1+Math.floor(10*Math.random()),title:"Biblioteca",categoryName:"Edifici"},{src:rt,likes:1+Math.floor(200*Math.random()),comments:1+Math.floor(50*Math.random()),points:1+Math.floor(8*Math.random()),remainingDays:1+Math.floor(10*Math.random()),title:"Fiori in primavera",categoryName:"Panorami"},{src:nt,likes:1+Math.floor(200*Math.random()),comments:1+Math.floor(50*Math.random()),points:1+Math.floor(8*Math.random()),remainingDays:1+Math.floor(10*Math.random()),title:"Bolzano d'Inverno",categoryName:"Panorami"},{src:ot,likes:1+Math.floor(200*Math.random()),comments:1+Math.floor(50*Math.random()),points:1+Math.floor(8*Math.random()),remainingDays:1+Math.floor(10*Math.random()),title:"Cattedrale",categoryName:"Edifici"},{src:it,likes:1+Math.floor(200*Math.random()),comments:1+Math.floor(50*Math.random()),points:1+Math.floor(8*Math.random()),remainingDays:1+Math.floor(10*Math.random()),title:"Castello",categoryName:"Edifici"},{src:st,likes:1+Math.floor(200*Math.random()),comments:1+Math.floor(50*Math.random()),points:1+Math.floor(8*Math.random()),remainingDays:1+Math.floor(10*Math.random()),title:"Chiesa",categoryName:"Edifici"},{src:ct,likes:1+Math.floor(200*Math.random()),comments:1+Math.floor(50*Math.random()),points:1+Math.floor(8*Math.random()),remainingDays:1+Math.floor(10*Math.random()),title:"Edificio religioso",categoryName:"Edificio religioso"},{src:lt,likes:1+Math.floor(200*Math.random()),comments:1+Math.floor(50*Math.random()),points:1+Math.floor(8*Math.random()),remainingDays:1+Math.floor(10*Math.random()),title:"Edificio storico",categoryName:"Edificio storico"},{src:mt,likes:1+Math.floor(200*Math.random()),comments:1+Math.floor(50*Math.random()),points:1+Math.floor(8*Math.random()),remainingDays:1+Math.floor(10*Math.random()),title:"Duomo",categoryName:"Edifici"},{src:ht,likes:1+Math.floor(200*Math.random()),comments:1+Math.floor(50*Math.random()),points:1+Math.floor(8*Math.random()),remainingDays:1+Math.floor(10*Math.random()),title:"Castello Maretsch",categoryName:"Edifici"},{src:dt,likes:1+Math.floor(200*Math.random()),comments:1+Math.floor(50*Math.random()),points:1+Math.floor(8*Math.random()),remainingDays:1+Math.floor(10*Math.random()),title:"Museo",categoryName:"Edifici"},{src:ft,likes:1+Math.floor(200*Math.random()),comments:1+Math.floor(50*Math.random()),points:1+Math.floor(8*Math.random()),remainingDays:1+Math.floor(10*Math.random()),title:"Tre cime",categoryName:"Panorami"},{src:ut,likes:1+Math.floor(200*Math.random()),comments:1+Math.floor(50*Math.random()),points:1+Math.floor(8*Math.random()),remainingDays:1+Math.floor(10*Math.random()),title:"Waltherplatz",categoryName:"Panorami"}],jt=a(67),bt=a.n(jt),gt=a(68),Mt=a.n(gt),xt=a.p+"static/media/crown.351a4fca.svg",vt={emblem:{width:"5em",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}},Ot=[{title:"AcquaMan",src:Q},{title:"Fire",src:V},{title:"Snow cat",src:X},{title:"Hiking",src:$},{title:"History",src:tt}],yt=pt.sort((function(){return.5-Math.random()}));function kt(){var t=Object(r.useMemo)(wt,[]);return Object(q.jsxs)(m.a,{sx:{padding:"1em"},children:[Object(q.jsxs)(U.a,{container:!0,children:[Object(q.jsx)(U.a,{item:!0,xs:8,children:Object(q.jsxs)(m.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(q.jsx)(Y.a,{variant:"h5",children:"You Emblems"}),Object(q.jsx)(m.a,{sx:{display:"flex",flexDirection:"row"},children:t.map((function(t){var e=t.title,a=t.src;return Object(q.jsxs)(m.a,{sx:vt.emblem,children:[Object(q.jsx)("img",{src:a,width:"100%"}),Object(q.jsx)(Y.a,{sx:{fontWeight:"bold"},children:e})]},e)}))})]})}),Object(q.jsx)(U.a,{item:!0,xs:4,children:Object(q.jsxs)(m.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"},children:[Object(q.jsx)(Y.a,{variant:"h5",children:"Points"}),Object(q.jsx)("img",{src:xt,style:{width:"2em"}}),Object(q.jsx)(Y.a,{variant:"h5",children:"72"})]})})]}),Object(q.jsx)("hr",{}),Object(q.jsx)(Y.a,{variant:"h4",children:"Conquers"}),Object(q.jsx)(Z.a,{children:yt.map((function(t){var e=t.src,a=t.title,r=t.points,n=t.likes,o=t.comments,i=t.categoryName,s=t.remainingDays;return Object(q.jsxs)(G.a,{sx:{padding:0,display:"flex",flexDirection:"row",marginBottom:".5em"},children:[Object(q.jsx)("div",{style:{backgroundImage:"url(".concat(e,")"),width:"5em",height:"5em",borderRadius:"1em",backgroundPosition:"center",backgroundSize:"cover",boxShadow:"0px 0px 5px gray"}}),Object(q.jsxs)(m.a,{sx:{margin:"0 1em 1em 1em",flex:1},children:[Object(q.jsx)(Y.a,{sx:{fontWeight:"bold"},children:a}),Object(q.jsxs)(Y.a,{children:["Expires in ",s," ",1===s?"day":"days"]}),Object(q.jsx)(Y.a,{children:i}),Object(q.jsx)(bt.a,{})," ",n," ",Object(q.jsx)(Mt.a,{})," ",o]}),Object(q.jsxs)(m.a,{children:[Object(q.jsx)("img",{src:xt,style:{width:"1.5em",marginBottom:"-0.75em"}}),Object(q.jsx)(Y.a,{sx:{fontSize:"2rem",textAlign:"center"},children:r})]})]},a)}))}),Object(q.jsx)(m.a,{sx:{height:"10em"}})]})}function wt(){for(var t=[],e=function(){var e=Ot[Math.floor(Math.random()*Ot.length)];t.find((function(t){return t.title===e.title}))||t.push(e)};t.length<3;)e();return t}function Dt(){return Object(q.jsx)("div",{children:"Rank"})}function Et(){return Object(q.jsx)("div",{children:"Profile"})}var Pt=Object(c.a)({palette:{primary:{main:"#50732f"}}});var Ct=function(){var t=Object(r.useState)("maps"),e=Object(s.a)(t,2),a=e[0],n=e[1];return Object(q.jsxs)(l.a,{theme:Pt,children:[Object(q.jsxs)(m.a,{sx:{display:"flex",width:"100%",height:"100vh",flexDirection:"column"},children:["maps"===a&&Object(q.jsx)(T,{}),"conquers"===a&&Object(q.jsx)(kt,{}),"rank"===a&&Object(q.jsx)(Dt,{}),"profile"===a&&Object(q.jsx)(Et,{})]}),Object(q.jsxs)(h.a,{showLabels:!0,value:a,sx:{position:"fixed",bottom:0,left:0,right:0,zIndex:2e3,boxShadow:"0px 0px 10px gray"},onChange:function(t,e){n(e)},children:[Object(q.jsx)(d.a,{value:"maps",label:"Maps",icon:Object(q.jsx)("img",{alt:"Map icon",src:_})}),Object(q.jsx)(d.a,{value:"conquers",label:"Conquers",icon:Object(q.jsx)("img",{alt:"Conquers icon",src:J})}),Object(q.jsx)(f.a,{color:"primary",sx:{marginTop:"-1.5em",minWidth:"4em",minHeight:"4em"},children:Object(q.jsx)(W.a,{})}),Object(q.jsx)(d.a,{value:"rank",label:"Rank",icon:Object(q.jsx)("img",{alt:"Rank icon",src:K})}),Object(q.jsx)(d.a,{value:"profile",label:"Profile",icon:Object(q.jsx)(R.a,{})})]})]})},Nt=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,132)).then((function(e){var a=e.getCLS,r=e.getFID,n=e.getFCP,o=e.getLCP,i=e.getTTFB;a(t),r(t),n(t),o(t),i(t)}))};a(93),a(94),a(95),a(96);i.a.render(Object(q.jsx)(n.a.StrictMode,{children:Object(q.jsx)(Ct,{})}),document.getElementById("root")),Nt()}},[[97,1,2]]]);
//# sourceMappingURL=main.7e7454d1.chunk.js.map